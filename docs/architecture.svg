<svg width="1000" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="primaryGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8B5CF6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#EC4899;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Title -->
  <text x="500" y="40" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#1f2937">
    ShadowLend Architecture
  </text>
  
  <!-- Frontend Layer -->
  <rect x="50" y="80" width="900" height="150" rx="10" fill="#f9fafb" stroke="#e5e7eb" stroke-width="2" filter="url(#shadow)"/>
  <text x="500" y="110" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#374151">
    Frontend Layer (React + TypeScript)
  </text>
  
  <!-- React Components -->
  <rect x="100" y="130" width="180" height="80" rx="8" fill="url(#primaryGrad)" opacity="0.1" stroke="#8B5CF6" stroke-width="2"/>
  <text x="190" y="155" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#6B21A8">
    UI Components
  </text>
  <text x="190" y="175" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#6B7280">
    Dashboard
  </text>
  <text x="190" y="190" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#6B7280">
    Markets
  </text>
  <text x="190" y="205" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#6B7280">
    Deposit/Withdraw
  </text>
  
  <!-- Web3 Integration -->
  <rect x="320" y="130" width="180" height="80" rx="8" fill="url(#primaryGrad)" opacity="0.1" stroke="#EC4899" stroke-width="2"/>
  <text x="410" y="155" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#BE185D">
    Web3 Integration
  </text>
  <text x="410" y="175" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#6B7280">
    wagmi + ethers.js
  </text>
  <text x="410" y="190" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#6B7280">
    RainbowKit
  </text>
  <text x="410" y="205" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#6B7280">
    MetaMask
  </text>
  
  <!-- FHE SDK -->
  <rect x="540" y="130" width="180" height="80" rx="8" fill="url(#primaryGrad)" opacity="0.1" stroke="#8B5CF6" stroke-width="2"/>
  <text x="630" y="155" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#6B21A8">
    FHE SDK
  </text>
  <text x="630" y="175" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#6B7280">
    Zama SDK
  </text>
  <text x="630" y="190" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#6B7280">
    Encryption/Decryption
  </text>
  <text x="630" y="205" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#6B7280">
    Proof Generation
  </text>
  
  <!-- State Management -->
  <rect x="760" y="130" width="150" height="80" rx="8" fill="url(#primaryGrad)" opacity="0.1" stroke="#EC4899" stroke-width="2"/>
  <text x="835" y="155" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#BE185D">
    State
  </text>
  <text x="835" y="175" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#6B7280">
    React Hooks
  </text>
  <text x="835" y="190" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#6B7280">
    TanStack Query
  </text>
  
  <!-- Arrow Down -->
  <path d="M 500 230 L 500 280" stroke="#6B7280" stroke-width="3" marker-end="url(#arrowhead)" fill="none"/>
  
  <!-- Blockchain Layer -->
  <rect x="50" y="280" width="900" height="200" rx="10" fill="#f0fdf4" stroke="#86efac" stroke-width="2" filter="url(#shadow)"/>
  <text x="500" y="310" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#166534">
    Blockchain Layer (Ethereum Sepolia)
  </text>
  
  <!-- Smart Contract -->
  <rect x="150" y="330" width="700" height="130" rx="8" fill="#ffffff" stroke="#22c55e" stroke-width="2"/>
  <text x="500" y="360" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#15803d">
    FHELendingPool.sol
  </text>
  
  <!-- Contract Functions -->
  <rect x="180" y="375" width="150" height="70" rx="5" fill="#dcfce7" stroke="#22c55e" stroke-width="1"/>
  <text x="255" y="395" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#166534">
    Core Functions
  </text>
  <text x="255" y="410" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ deposit()
  </text>
  <text x="255" y="425" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ withdraw()
  </text>
  <text x="255" y="440" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ borrow() / repay()
  </text>
  
  <!-- User Accounts -->
  <rect x="360" y="375" width="150" height="70" rx="5" fill="#dcfce7" stroke="#22c55e" stroke-width="1"/>
  <text x="435" y="395" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#166534">
    User Accounts
  </text>
  <text x="435" y="410" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ encryptedDeposited
  </text>
  <text x="435" y="425" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ encryptedBorrowed
  </text>
  <text x="435" y="440" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ isActive
  </text>
  
  <!-- Pool Stats -->
  <rect x="540" y="375" width="150" height="70" rx="5" fill="#dcfce7" stroke="#22c55e" stroke-width="1"/>
  <text x="615" y="395" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#166534">
    Pool Statistics
  </text>
  <text x="615" y="410" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ totalETHBalance
  </text>
  <text x="615" y="425" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ userCount
  </text>
  <text x="615" y="440" font-family="Arial, sans-serif" font-size="10" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ interest rates
  </text>
  
  <!-- Arrow Down -->
  <path d="M 500 480 L 500 530" stroke="#6B7280" stroke-width="3" marker-end="url(#arrowhead)" fill="none"/>
  
  <!-- FHE Layer -->
  <rect x="50" y="530" width="900" height="220" rx="10" fill="#faf5ff" stroke="#c084fc" stroke-width="2" filter="url(#shadow)"/>
  <text x="500" y="560" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#6b21a8">
    FHE Cryptography Layer (Zama fhEVM)
  </text>
  
  <!-- FHE Operations -->
  <rect x="100" y="580" width="250" height="140" rx="8" fill="#f3e8ff" stroke="#a855f7" stroke-width="2"/>
  <text x="225" y="605" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#7c3aed">
    FHE Operations
  </text>
  <text x="225" y="625" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ FHE.add() - Encrypted Addition
  </text>
  <text x="225" y="645" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ FHE.sub() - Encrypted Subtraction
  </text>
  <text x="225" y="665" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ FHE.gt() - Encrypted Comparison
  </text>
  <text x="225" y="685" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ FHE.select() - Conditional Selection
  </text>
  <text x="225" y="705" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ FHE.allowThis() - Access Control
  </text>
  
  <!-- Encrypted Types -->
  <rect x="390" y="580" width="220" height="140" rx="8" fill="#f3e8ff" stroke="#a855f7" stroke-width="2"/>
  <text x="500" y="605" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#7c3aed">
    Encrypted Data Types
  </text>
  <text x="500" y="625" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ euint64 - Encrypted Uint64
  </text>
  <text x="500" y="645" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ ebool - Encrypted Boolean
  </text>
  <text x="500" y="665" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ externalEuint64 - External Input
  </text>
  <text x="500" y="685" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#4b5563">
    ‚Ä¢ inputProof - Zero-Knowledge Proof
  </text>
  
  <!-- Privacy Guarantees -->
  <rect x="650" y="580" width="250" height="140" rx="8" fill="#f3e8ff" stroke="#a855f7" stroke-width="2"/>
  <text x="775" y="605" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#7c3aed">
    Privacy Guarantees
  </text>
  <text x="775" y="625" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#4b5563">
    üîí All balances encrypted
  </text>
  <text x="775" y="645" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#4b5563">
    üõ°Ô∏è No plaintext exposure
  </text>
  <text x="775" y="665" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#4b5563">
    ‚úÖ Verifiable computations
  </text>
  <text x="775" y="685" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#4b5563">
    üîê End-to-end encryption
  </text>
  <text x="775" y="705" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#4b5563">
    ‚ö° On-chain privacy
  </text>
  
  <!-- Arrow marker -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
      <polygon points="0 0, 10 5, 0 10" fill="#6B7280" />
    </marker>
  </defs>
</svg>
